{"version":3,"sources":["meteor://ðŸ’»app/server/publications/userAutocomplete.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CAAe,kBAAf,EAAmC,SAAC,QAAD;AAClC;AAAA,WAAW,CAAC,MAAZ;AACC,WAAO,IAAI,CAAC,KAAL,EAAP,CADD;GAAA;AAAA,EAGA,MAAM,IAHN;AAAA,EAKA,UACC;AAAA,YACC;AAAA,YAAM,CAAN;AAAA,MACA,UAAU,CADV;AAAA,MAEA,QAAQ,CAFR;KADD;AAAA,IAIA,OAAO,EAJP;AAAA,IAKA,MACC;AAAA,YAAM,CAAN;KAND;GAND;AAAA,EAcA,aAAa,QAAQ,CAAC,UAAT,IAAuB,EAdpC;AAAA,EAgBA,eAAe,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,uCAAxB,CAAgE,QAAQ,CAAC,QAAzE,EAAmF,UAAnF,EAA+F,OAA/F,CAAuG,CAAC,cAAxG,CACd;AAAA,WAAO,SAAC,GAAD,EAAM,MAAN;aACN,GAAG,CAAC,KAAJ,CAAU,qBAAV,EAAiC,GAAjC,EAAsC,MAAtC,EADM;IAAA,CAAP;AAAA,IAEA,SAAS,SAAC,GAAD,EAAM,MAAN;aACR,GAAG,CAAC,OAAJ,CAAY,qBAAZ,EAAmC,GAAnC,EAAwC,MAAxC,EADQ;IAAA,CAFT;AAAA,IAIA,SAAS,SAAC,GAAD,EAAM,MAAN;aACR,GAAG,CAAC,OAAJ,CAAY,qBAAZ,EAAmC,GAAnC,EAAwC,MAAxC,EADQ;IAAA,CAJT;GADc,CAhBf;AAAA,EAuBA,IAAC,MAAD,EAvBA;AAAA,EAwBA,IAAC,OAAD,CAAQ;WACP,YAAY,CAAC,IAAb,GADO;EAAA,CAAR,CAxBA,CADkC;AAAA,CAAnC","file":"/server/publications/userAutocomplete.coffee.js","sourcesContent":["Meteor.publish 'userAutocomplete', (selector) ->\n\tunless this.userId\n\t\treturn this.ready()\n\n\tpub = this\n\n\toptions =\n\t\tfields:\n\t\t\tname: 1\n\t\t\tusername: 1\n\t\t\tstatus: 1\n\t\tlimit: 10\n\t\tsort:\n\t\t\tname: 1\n\n\texceptions = selector.exceptions or []\n\n\tcursorHandle = RocketChat.models.Users.findActiveByUsernameRegexWithExceptions(selector.username, exceptions, options).observeChanges\n\t\tadded: (_id, record) ->\n\t\t\tpub.added(\"autocompleteRecords\", _id, record)\n\t\tchanged: (_id, record) ->\n\t\t\tpub.changed(\"autocompleteRecords\", _id, record)\n\t\tremoved: (_id, record) ->\n\t\t\tpub.removed(\"autocompleteRecords\", _id, record)\n\t@ready()\n\t@onStop ->\n\t\tcursorHandle.stop()\n\treturn\n"]}