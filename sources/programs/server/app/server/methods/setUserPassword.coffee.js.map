{"version":3,"sources":["meteor://ðŸ’»app/server/methods/setUserPassword.coffee"],"names":[],"mappings":";;;;;;;;;AAAA,MAAM,CAAC,OAAP,CACC;AAAA,mBAAiB,SAAC,QAAD;AAChB;AAAA,QAAG,OAAU,CAAC,MAAP,EAAP;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,cAAb,EAA6B,2CAA7B,CAAV,CADD;KAAA;AAAA,IAGA,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,WAAxB,CAAoC,MAAM,CAAC,MAAP,EAApC,CAHP;AAIA,QAAG,QAAS,IAAI,CAAC,qBAAL,KAAgC,IAA5C;AACC,YAAU,UAAM,CAAC,KAAP,CAAa,gBAAb,EAA+B,6CAA/B,CAAV,CADD;KAJA;AAAA,IAOA,QAAQ,CAAC,WAAT,CAAqB,MAAM,CAAC,MAAP,EAArB,EAAsC,QAAtC,EAAgD;AAAA,MAAE,QAAQ,KAAV;KAAhD,CAPA;AAQA,WAAO,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,0BAAxB,CAAmD,MAAM,CAAC,MAAP,EAAnD,CAAP,CARA;AAUA,WAAO,IAAP,CAXgB;EAAA,CAAjB;CADD","file":"/server/methods/setUserPassword.coffee.js","sourcesContent":["Meteor.methods\n\tsetUserPassword: (password) ->\n\t\tif not Meteor.userId()\n\t\t\tthrow new Meteor.Error 'invalid-user', '[methods] setUserPassword -> Invalid user'\n\n\t\tuser = RocketChat.models.Users.findOneById Meteor.userId()\n\t\tif user and user.requirePasswordChange isnt true\n\t\t\tthrow new Meteor.Error 'not-authorized', '[methods] setUserPassword -> Not authorized'\n\n\t\tAccounts.setPassword(Meteor.userId(), password, { logout: false });\n\t\treturn RocketChat.models.Users.unsetRequirePasswordChange(Meteor.userId());\n\n\t\treturn true;"]}